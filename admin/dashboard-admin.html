<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <title>Admin</title>
  </head>
  <body class="bg-amber-100 min-h-screen pt-24">
    <!-- NAVBAR -->
    <nav class="bg-emerald-900 fixed w-full z-50 top-0 start-0 border-b border-emerald-900">
      <div class="max-w-screen-xl flex flex-col md:flex-row items-center justify-between mx-auto p-4 gap-2">
        <!-- Logo -->
        <a href="../index.html" class="flex items-center space-x-3">
          <svg class="w-10 h-10 text-amber-50" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M5 19V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v13H7a2 2 0 0 0-2 2Zm0 0a2 2 0 0 0 2 2h12M9 3v14m7 0v4" />
          </svg>
          <span class="text-2xl font-semibold text-amber-50">EduClick</span>
        </a>

        <!-- Saludo -->
        <div class="flex-1 flex justify-center order-last md:order-none">
          <span id="saludoUsuario"
            class="text-amber-50 font-medium text-sm md:text-base text-center bg-emerald-800 py-2 px-6 rounded-lg shadow-md">
            <!-- JS insertará el saludo -->
          </span>
        </div>

        <!-- Botón cerrar sesión -->
        <div class="flex justify-end">
          <button type="button" onclick="cerrarSesion()"
            class="text-white bg-rose-600 hover:bg-rose-700 font-medium focus:ring-4 focus:outline-none focus:ring-rose-600 rounded-lg text-sm px-4 py-2">
            Cerrar Sesión
          </button>
        </div>
      </div>
    </nav>

    <!-- CONTENIDO PRINCIPAL -->
    <main class="max-w-screen-xl mx-auto mt-10 grid grid-cols-1 md:grid-cols-3 gap-6 px-4">
      <!-- Carta 1: Registrar Usuario -->
      <div onclick="abrirModal('modalUsuario')"
        class="cursor-pointer bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition">
        <h3 class="text-xl font-semibold text-emerald-800 mb-2">Registrar Usuario</h3>
        <p class="text-gray-600">Agregar nuevos usuarios al sistema.</p>
      </div>

      <!-- Carta 2 y 3 (placeholders) -->
      <div class="cursor-pointer bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition">
        <h3 class="text-xl font-semibold text-emerald-800 mb-2">Registrar Producto</h3>
        <p class="text-gray-600">Registrar productos para la venta.</p>
      </div>

      <div class="cursor-pointer bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition">
        <h3 class="text-xl font-semibold text-emerald-800 mb-2">Registrar Venta</h3>
        <p class="text-gray-600">Capturar nueva venta o transacción.</p>
      </div>
    </main>

    <!-- MODAL USUARIO -->
    <div id="modalUsuario"
      class="fixed inset-0 z-50 bg-black/40 backdrop-blur-sm flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300">
      <div id="modalUsuarioCard"
        class="bg-white rounded-xl p-6 w-full max-w-md relative shadow-2xl transform scale-95 opacity-0 transition-all duration-300">
        <!-- Botón cerrar -->
        <button onclick="cerrarModal('modalUsuario')"
          class="absolute top-3 right-3 text-gray-500 hover:text-red-600 text-2xl font-bold transition">&times;</button>

        <!-- Contenido -->
        <h2 class="text-2xl font-semibold text-emerald-800 mb-6 text-center">Registrar Usuario</h2>

        <form id="formUsuario" class="space-y-4">
          <input type="email" placeholder="Correo"
            class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-emerald-600 outline-none"
            required />
          <input type="password" placeholder="Contraseña"
            class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-emerald-600 outline-none"
            required />
          <input type="text" placeholder="Nombre completo"
            class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-emerald-600 outline-none"
            required />
          <input type="tel" placeholder="Celular"
            class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-emerald-600 outline-none"
            required />
          <select
            class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-emerald-600 outline-none"
            required>
            <option value="">Selecciona un rol</option>
            <option value="admin">Admin</option>
            <option value="cliente">Cliente</option>
            <option value="vendedor">Vendedor</option>
          </select>
          <button type="submit"
            class="bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg px-4 py-2 w-full font-medium transition">
            Guardar
          </button>
        </form>
      </div>
    </div>

    <!-- JS FUNCIONALIDAD -->
    <script>
      // Saludo dinámico
      const usuario = JSON.parse(localStorage.getItem("usuarioActivo"));
      const saludo = document.getElementById("saludoUsuario");
      if (usuario && saludo) {
        saludo.textContent = `Bienvenido ${usuario.rol} ${usuario.name}`;
      }

      // Animación para abrir modal
      function abrirModal(id) {
        const modal = document.getElementById(id);
        const card = modal.querySelector(`#${id}Card`);
        modal.classList.remove("opacity-0", "pointer-events-none");
        setTimeout(() => {
          card.classList.remove("scale-95", "opacity-0");
          card.classList.add("scale-100", "opacity-100");
        }, 10);
      }

      // Animación para cerrar modal
      function cerrarModal(id) {
        const modal = document.getElementById(id);
        const card = modal.querySelector(`#${id}Card`);
        card.classList.remove("scale-100", "opacity-100");
        card.classList.add("scale-95", "opacity-0");
        setTimeout(() => {
          modal.classList.add("opacity-0", "pointer-events-none");
        }, 200);
      }

      // Cerrar sesión
      function cerrarSesion() {
        localStorage.removeItem("usuarioActivo");
        window.location.href = "../index.html";
      }
    </script>

    <script src="https://unpkg.com/flowbite@1.6.5/dist/flowbite.min.js"></script>
  </body>
</html>
